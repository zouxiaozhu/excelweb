<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœç´¢ç»“æœå¤„ç†éªŒè¯</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .test-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }

        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }

        .button:hover {
            background: #0056b3;
        }

        .success {
            color: #28a745;
        }

        .info {
            color: #17a2b8;
        }

        .warning {
            color: #ffc107;
        }

        .error {
            color: #dc3545;
        }

        .api-example {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            border: 1px solid #e9ecef;
            overflow-x: auto;
        }

        .data-flow {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
        }

        .data-flow h4 {
            margin-top: 0;
            color: #0066cc;
        }

        .data-flow ol {
            margin: 5px 0;
            padding-left: 20px;
        }

        .data-flow li {
            margin: 3px 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>æœç´¢ç»“æœå¤„ç†éªŒè¯</h1>

        <div class="test-section">
            <h3>æ•°æ®å¤„ç†æµç¨‹</h3>
            <div class="data-flow">
                <h4>ğŸ“Š æ•°æ®æµè½¬è¿‡ç¨‹ï¼š</h4>
                <ol>
                    <li><strong>APIåŸå§‹å“åº”</strong>ï¼šæœåŠ¡å™¨è¿”å›å®Œæ•´çš„å“åº”å¯¹è±¡</li>
                    <li><strong>å“åº”æ‹¦æˆªå™¨å¤„ç†</strong>ï¼šå½“ code === 0 æ—¶ï¼Œè¿”å› data.data</li>
                    <li><strong>ç»„ä»¶æ¥æ”¶</strong>ï¼šç›´æ¥æ¥æ”¶åˆ°å¤„ç†åçš„æ•°ç»„æ•°æ®</li>
                    <li><strong>æ•°æ®è½¬æ¢</strong>ï¼šå°† columnData è½¬æ¢ä¸ºè¡¨æ ¼è¡Œæ•°æ®</li>
                    <li><strong>è¡¨æ ¼æ˜¾ç¤º</strong>ï¼šä½¿ç”¨ tableColumns æ˜¾ç¤ºæ•°æ®</li>
                </ol>
            </div>
        </div>

        <div class="test-section">
            <h3>APIåŸå§‹å“åº”æ ¼å¼</h3>
            <p>æœåŠ¡å™¨è¿”å›çš„å®Œæ•´å“åº”ï¼š</p>
            <div class="api-example">
                {
                "success": true,
                "code": 0,
                "message": "ok",
                "data": [
                {
                "rowLine": 2,
                "columnData": {
                "æ‰€åœ¨ä½ç½®": {
                "id": 13650,
                "columnName": "æ‰€åœ¨ä½ç½®",
                "columnValue": "æ‰€åœ¨ä½ç½®(ç¤ºä¾‹)"
                },
                "ç”Ÿäº§å‚å®¶": {
                "id": 13653,
                "columnName": "ç”Ÿäº§å‚å®¶",
                "columnValue": "ç”Ÿäº§å‚å®¶(ç¤ºä¾‹)"
                }
                // ... å…¶ä»–åˆ—æ•°æ®
                }
                }
                ]
                }
            </div>
        </div>

        <div class="test-section">
            <h3>å“åº”æ‹¦æˆªå™¨å¤„ç†å</h3>
            <p>ç»„ä»¶å®é™…æ¥æ”¶åˆ°çš„æ•°æ®ï¼ˆresponseï¼‰ï¼š</p>
            <div class="api-example">
                [
                {
                "rowLine": 2,
                "columnData": {
                "æ‰€åœ¨ä½ç½®": {
                "id": 13650,
                "columnName": "æ‰€åœ¨ä½ç½®",
                "columnValue": "æ‰€åœ¨ä½ç½®(ç¤ºä¾‹)"
                },
                "ç”Ÿäº§å‚å®¶": {
                "id": 13653,
                "columnName": "ç”Ÿäº§å‚å®¶",
                "columnValue": "ç”Ÿäº§å‚å®¶(ç¤ºä¾‹)"
                }
                // ... å…¶ä»–åˆ—æ•°æ®
                }
                }
                ]
            </div>
        </div>

        <div class="test-section">
            <h3>æ•°æ®è½¬æ¢è¿‡ç¨‹</h3>
            <p>ä»£ç ä¸­çš„è½¬æ¢é€»è¾‘ï¼š</p>
            <div class="api-example">
                // è½¬æ¢æ•°æ®æ ¼å¼ä»¥é€‚é…è¡¨æ ¼æ˜¾ç¤º
                searchResults.value = response.map((item: any) => {
                const rowData: any = {}
                Object.keys(item.columnData).forEach(columnKey => {
                rowData[columnKey] = item.columnData[columnKey].columnValue
                })
                return rowData
                })
            </div>
        </div>

        <div class="test-section">
            <h3>è½¬æ¢åçš„è¡¨æ ¼æ•°æ®</h3>
            <p>æœ€ç»ˆç”¨äºè¡¨æ ¼æ˜¾ç¤ºçš„æ•°æ®ï¼š</p>
            <div class="api-example">
                [
                {
                "æ‰€åœ¨ä½ç½®": "æ‰€åœ¨ä½ç½®(ç¤ºä¾‹)",
                "ç”Ÿäº§å‚å®¶": "ç”Ÿäº§å‚å®¶(ç¤ºä¾‹)",
                "è´Ÿè´£äºº": "è´Ÿè´£äºº(ç¤ºä¾‹)",
                "è§„æ ¼å‹å·": "è§„æ ¼å‹å·(ç¤ºä¾‹)",
                "è”ç³»æ–¹å¼(æ•°å­—)": "1",
                "ç¼–å·": "ç¼–å·(ç¤ºä¾‹)",
                "å™¨æåç§°": "å™¨æåç§°(ç¤ºä¾‹)",
                "æœ‰æ•ˆæœŸ": "æœ‰æ•ˆæœŸ(ç¤ºä¾‹)"
                }
                ]
            </div>
        </div>

        <div class="test-section">
            <h3>éªŒè¯æ­¥éª¤</h3>
            <ol>
                <li>æ‰“å¼€è¡¨æ ¼å¿«æœé¡µé¢</li>
                <li>æ‰§è¡Œæœç´¢æ“ä½œ</li>
                <li>æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œç¡®è®¤æ•°æ®è½¬æ¢è¿‡ç¨‹</li>
                <li>æ£€æŸ¥è¡¨æ ¼æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºæ•°æ®</li>
                <li>éªŒè¯è¡¨æ ¼åˆ—æ ‡é¢˜ä¸æ•°æ®æ˜¯å¦åŒ¹é…</li>
            </ol>
            <button class="button" onclick="openTestPage()">æ‰“å¼€æµ‹è¯•é¡µé¢</button>
        </div>

        <div class="test-section">
            <h3>é¢„æœŸæ§åˆ¶å°æ—¥å¿—</h3>
            <div class="api-example">
                æœç´¢å‚æ•°: {fileCode: "ba57f91138f04486", logic: "AND", searchQueries: [...]}
                APIå“åº”: [
                {
                rowLine: 2,
                columnData: {
                "æ‰€åœ¨ä½ç½®": {id: 13650, columnName: "æ‰€åœ¨ä½ç½®", columnValue: "æ‰€åœ¨ä½ç½®(ç¤ºä¾‹)"},
                "ç”Ÿäº§å‚å®¶": {id: 13653, columnName: "ç”Ÿäº§å‚å®¶", columnValue: "ç”Ÿäº§å‚å®¶(ç¤ºä¾‹)"}
                // ... å…¶ä»–åˆ—æ•°æ®
                }
                }
                ]
                æœç´¢ç»“æœ: [
                {
                "æ‰€åœ¨ä½ç½®": "æ‰€åœ¨ä½ç½®(ç¤ºä¾‹)",
                "ç”Ÿäº§å‚å®¶": "ç”Ÿäº§å‚å®¶(ç¤ºä¾‹)",
                "è´Ÿè´£äºº": "è´Ÿè´£äºº(ç¤ºä¾‹)",
                "è§„æ ¼å‹å·": "è§„æ ¼å‹å·(ç¤ºä¾‹)",
                "è”ç³»æ–¹å¼(æ•°å­—)": "1",
                "ç¼–å·": "ç¼–å·(ç¤ºä¾‹)",
                "å™¨æåç§°": "å™¨æåç§°(ç¤ºä¾‹)",
                "æœ‰æ•ˆæœŸ": "æœ‰æ•ˆæœŸ(ç¤ºä¾‹)"
                }
                ]
                å½“å‰è¡¨æ ¼åˆ—: [
                {prop: "æ‰€åœ¨ä½ç½®", label: "æ‰€åœ¨ä½ç½®", width: "120", minWidth: undefined},
                {prop: "ç”Ÿäº§å‚å®¶", label: "ç”Ÿäº§å‚å®¶", width: "120", minWidth: undefined}
                // ... å…¶ä»–åˆ—
                ]
            </div>
        </div>

        <div class="test-section">
            <h3>å¯èƒ½çš„é—®é¢˜æ’æŸ¥</h3>
            <div class="info">
                <p><strong>é—®é¢˜ï¼šæœç´¢ç»“æœä¸ºç©º</strong></p>
                <p>æ’æŸ¥ï¼šæ£€æŸ¥APIå“åº”æ˜¯å¦ä¸ºæ•°ç»„ï¼Œç¡®è®¤columnDataç»“æ„</p>

                <p><strong>é—®é¢˜ï¼šè¡¨æ ¼åˆ—ä¸æ˜¾ç¤º</strong></p>
                <p>æ’æŸ¥ï¼šç¡®è®¤tableColumnsæ˜¯å¦æ­£ç¡®ç”Ÿæˆï¼Œæ£€æŸ¥propä¸columnDataé”®ååŒ¹é…</p>

                <p><strong>é—®é¢˜ï¼šæ•°æ®é”™ä½</strong></p>
                <p>æ’æŸ¥ï¼šç¡®è®¤columnDataä¸­çš„å­—æ®µåä¸è¡¨æ ¼åˆ—çš„propå®Œå…¨ä¸€è‡´</p>

                <p><strong>é—®é¢˜ï¼šè½¬æ¢å¤±è´¥</strong></p>
                <p>æ’æŸ¥ï¼šæ£€æŸ¥item.columnDataæ˜¯å¦å­˜åœ¨ï¼Œç¡®è®¤columnValueå­—æ®µ</p>
            </div>
        </div>
    </div>

    <script>
        function openTestPage() {
            const baseUrl = window.location.origin;
            const link = `${baseUrl}/excel-search?fileCoding=ba57f91138f04486`;
            window.open(link, '_blank');

            alert('è¯·æ‰§è¡Œæœç´¢æ“ä½œï¼Œç„¶åæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ç¡®è®¤æ•°æ®å¤„ç†æµç¨‹ã€‚');
        }

        console.log('æœç´¢ç»“æœå¤„ç†éªŒè¯é¡µé¢å·²åŠ è½½');
        console.log('æµ‹è¯•æ–‡ä»¶ç¼–ç ï¼šba57f91138f04486');
        console.log('éªŒè¯é‡ç‚¹ï¼šå“åº”æ‹¦æˆªå™¨å¤„ç†ã€æ•°æ®è½¬æ¢ã€è¡¨æ ¼æ˜¾ç¤º');
    </script>
</body>

</html>